{{ 'timber.scss.css' | asset_url | stylesheet_tag }}
{{ 'themecopy.scss.css' | asset_url | stylesheet_tag }}
{{ 'bootstrap.scss.css' | asset_url | stylesheet_tag }}
{{ 'component-product-without-variants.css' | asset_url | stylesheet_tag }}
{{ 'component-price.css' | asset_url | stylesheet_tag }}
{{ 'component-badge.css' | asset_url | stylesheet_tag }}
{%- liquid
  if colorScheme
    assign colorScheme = colorScheme
  endif
-%}
{% assign current_variant = product.selected_or_first_available_variant %}
{% assign featured_image = current_variant.featured_image | default: product.featured_image %}

<div class="blue-background">
<!-- /templates/product.liquid -->
{%- assign first_3d_model = product.media | where: "media_type", "model" | first -%}
 
<div class="wrapper padd-bot-xl min-height-element" itemscope itemtype="http://schema.org/Product" id="ProductSection--product-custom-template"
  data-section-id="{{ section.id }}"
  data-section-type="product-template"
  data-image-zoom-type="{{ section.settings.enable_image_zoom }}"
  data-enable-history-state="true"
  data-stacked-layout="{% if section.settings.media_layout == "stacked" %}true{% else %}false{% endif %}"
  {% if first_3d_model %}data-has-model="true"{% endif %}>

    <meta itemprop="url" content="{{ shop.url }}{{ product.url }}">
    <meta itemprop="image" content="{{ product.featured_media | img_url: 'grande' }}">

    {% assign current_variant = product.selected_or_first_available_variant %}
    {% assign featured_media = current_variant.featured_media | default: product.featured_media %}

    {% assign stacked = false %}
    {% if section.settings.media_layout == "stacked" %}{% assign stacked = true %}{% endif %}
    {%- assign first_media = true -%}
    <div class="grid product-single custom-product-3">
      <div class="slider left">
        <p class="mobile-product-text no-d"> {{ product.metafields.my_fields.mobile_description}}
          <br>
          <span class="modal-show"> Size chart </span>
          <br>
          <a class="review-stars" href="#reviews">
            <span class="stars">
              <span class="star">{% render "icon-star" %}</span>
              <span class="star">{% render "icon-star" %}</span>
              <span class="star">{% render "icon-star" %}</span>
              <span class="star">{% render "icon-star" %}</span>
              <span class="star">{% render "icon-star" %}</span>
            </span>
            <span class="mobile-product-reviews">8 reviews</span>
          </a>
        </p>
        <div class="no-js-hidden price-{{ section.id }}" id="price-{{ section.id }}" {{ block.shopify_attributes }}>
          {%- render 'price', product: product, use_variant: true, show_badges: true, price_class: 'price--large product-single__price justify-content-center euro no-desktop' -%}
         
        </div>
        {% render "product-template-slider" %}
      
      </div>
      
      
      
      <div class="grid__item product-single__meta--wrapper large--five-twelfths">
        <div class="product-single__meta">
          {% if section.settings.product_vendor_enable %}
            <h2 class="product-single__vendor" itemprop="brand">{{ product.vendor }}</h2>
          {% endif %}

          <h1 class="product-single__title text-left center-it no-mobile" itemprop="name" style="max-width: 380px;">
           {%- if product.metafields.my_fields.product_page_title !=blank -%}
            {{ product.metafields.my_fields.product_page_title }}
            {%- else -%}
            {{ product.title }}
            {%- endif -%}
          </h1>
          
          {% comment %}
			<span class="stamped-product-reviews-badge stamped-main-badge" data-id="{{product.id}}" data-product-title="{{product.title}}" data-product-type="{{product.type}}" style="display: block;"></span>
			{% endcomment %}
          
          <div class="center-it" style="max-width: 380px;">
            {% comment %}
              Optionally show the 'compare at' or original price of the product.
            {% endcomment %}
            
            <div class="no-mobile">
              <div class="no-js-hidden price-{{ section.id }}" id="price-{{ section.id }}" {{ block.shopify_attributes }}>
                {%- render 'price', product: product, use_variant: true, show_badges: true, price_class: 'price--large product-single__price' -%}
              </div>
            </div>
            
            <div class="product-single__description rte no-mobile" itemprop="description">
              {{ product.metafields.my_fields.description }}
              <br>
              <br>
              <p>
                 {{ product.metafields.my_fields.extra_information }}
              </p>
              <br>
            </div>

            <div itemprop="aggregateRating" itemtype="http://schema.org/AggregateRating" itemscope>
              <meta itemprop="reviewCount" content="35" />
              <meta itemprop="ratingValue" content="4.9" />
            </div>

            {% capture "form_classes" %}
              product-single__form installment caption-large{% if product.has_only_default_variant %} product-single__form--no-variants{% endif %}
            {%- endcapture %}

            {% capture "form_id" %}product-form-{{ section.id }}{%- endcapture -%}

            {% form 'product', product, class:form_classes, id:form_id, data-product-form: '' %}
            <input type="hidden" name="id" value="{{ product.selected_or_first_available_variant.id }}">
            <input type="hidden" name="sections" value="cart-total-price,cart-items-template">
            {% unless product.has_only_default_variant %}
            <variant-radios class="no-js-hidden" data-section="{{ section.id }}" data-url="{{ product.url }}" {{ block.shopify_attributes }}>
              {%- for option in product.options_with_values -%}
                  <fieldset class="js product-form__input">
                    {% if option.name == 'Size' %}
                    <div class="color-option">
                      <label class="form__label color-option single-option-radio__label product-single__description">
                        {{ option.name }}<span class="size-popup modal-show">(what's my size?)</span>
                      </label>
                      {%- for value in option.values -%}
                        <input 
                              type="radio"
                              class="display-non" 
                              id="{{ section.id }}-{{ option.name }}-{{ forloop.index0 }}"
                              name="{{ option.name }}"
                              value="{{ value | escape }}"
                              form="product-form-{{ section.id }}"
                              {% if option.selected_value == value %}checked{% endif %}
                        >
                        <label class="size-circle {{ value }}" for="{{ section.id }}-{{ option.name }}-{{ forloop.index0 }}">
                          {{ value }}
                        </label>
                      {%- endfor -%}
                      </div>
                    {% elsif option.name == 'Color' %}
                    <div class="color-option">
                        <label class="form__label color-option single-option-radio__label product-single__description">
                          {{ option.name }}
                        </label>
                        <div class="color-div">
                        {%- for value in option.values -%}
                          <input 
                                type="radio"
                                class="display-non" 
                                id="{{ section.id }}-{{ option.name }}-{{ forloop.index0 }}"
                                name="{{ option.name }}"
                                value="{{ value | escape }}"
                                form="product-form-{{ section.id }}"
                                {% if option.selected_value == value %}checked{% endif %}
                          >
                          <label 
                          class="colors-swatch" 
                          for="{{ section.id }}-{{ option.name }}-{{ forloop.index0 }}"
                          data-option-id="ProductSelect-option-{{ option.name | handleize }}-{{ value | replace: " " | escape }}-manual"
                          > 
                            {% assign colorsSch = colorScheme | strip_newlines | split: "," %}
                            {% for colors in colorsSch %}
                              {% assign color = colors | split: ":" %}
                            {% assign downcase1 = color[0] | downcase %}
                            {% assign downcase2 = value | downcase %}
                              {% if downcase2 == downcase1 %}
                                {% assign variantColorCode = color[1] %}
                                {% break %}
                              {% endif %}
                            {% endfor %} 
                            {% if variantColorCode == blank %}
                {% assign variantColorCode = "url(//cdn.shopify.com/s/files/1/0594/3604/0367/files/none.png?v=1634556355)" %}
                {% endif %}
                            <span class="{{ value | replace: " " }} colors-color" style="background: {{ variantColorCode }};"></span>
                            <span class="colors-text">{{ value }}</span>
                          </label>
                          {%- endfor -%}
                          </div>
                      </div>
                      {%- else -%}
                      <label class="form__label color-option single-option-radio__label product-single__description">
                        {{ option.name }}
                      </label>
                    <div class="sub-marg-bottom">

                      {%- for value in option.values -%}
                        <input type="radio" id="{{ section.id }}-{{ option.name }}-{{ forloop.index0 }}"
                              name="{{ option.name }}"
                              value="{{ value | escape }}"
                              class="display-non"
                              form="product-form-{{ section.id }}"
                              {% if option.selected_value == value %}checked{% endif %}
                        >
                        <label for="{{ section.id }}-{{ option.name }}-{{ forloop.index0 }}"
                        class="badge"
                        >
                          {{ value }}
                        </label>
                      {%- endfor -%}
                    </div>
                      {%- endif -%}
                  </fieldset>
              {%- endfor -%}
              <script id="product-json" type="application/json">
                {{ product.variants | json }}
              </script>
            </variant-radios>
                
            {% endunless %}

              <select name="" id="ProductSelect--product-custom-template" class="product-single__variants no-js">
                {% for variant in product.variants %}                  
                    <option {% if variant == product.selected_or_first_available_variant %}
                      selected="selected" {% endif %}
                      data-sku="{{ variant.sku }}"
					  data-avaliable="{% if variant.available %}yes{% else %}no{% endif %}"
                      value="{{ variant.id }}"
                      variant-name="{{ variant.title }}">
                      {{ variant.title }} - {{ variant.price | money_with_currency }}
                    </option>
                {% endfor %}
              </select>
            
            <div class="line-item-property__field box">
            <div class="box__input">              
              <input type="hidden" name="properties[Image we will cut out âœ‚ï¸]" value="No">
              <input id="image" required  type="file" class="box__file required" data-multiple-caption="Error {count} files selected" accept="image/*" name="properties[Image we will cut out âœ‚ï¸]" value="Yes" enctype="multipart/form-data" />
              <label for="image"><strong>UPLOAD</strong><span class="box__dragndrop"></span></label>
              <button type="submit" class="box__button">Upload</button>
              <label for="image"><span class="box__icon svg-inline--fa"></span></label>
            </div>
            <div class="box__uploading">
              Uploading&hellip;
            </div>
            <div class="box__success">
              Done!
            </div>
            <div class="box__error">
              Error! <span></span>.
            </div>
            </div>
            
            {% comment %}
            <div class="text-left" style="padding-top: 15px;">
              <input type="checkbox" class="gift-checkbox" id="gift-checkbox" style="margin-right: 10px;min-height: 0;height: 22px;width: 22px;"><label class="product-single__description" for="gift-checkbox"> add a gift bag ðŸ¥³ <span class="euro">(+ â‚¬1,95)</span><span class="pound display-non">(+ Â£1.80)</span></label>
            </div>
            {% endcomment %}

            {%- for block in section.blocks -%}
            {%- case block.type -%}
              {%- when 'quantity_selector' -%}
              <div class=" product-form__quantity text-left" {{ block.shopify_attributes }}>
                <label class="form__label" for="Quantity-{{ section.id }}">
                  Quantity
                </label>
                <quantity-input class="quantity">
                  <button class="quantity__button no-js-hidden" name="minus" type="button">
                    <span class="visually-hidden">{{ 'products.product.quantity.decrease' | t: product: product.title | escape }}</span>
                    {% render 'icon-minus' %}
                  </button>
                  <input class="quantity__input"
                      type="number"
                      name="quantity"
                      id="Quantity-{{ section.id }}"
                      min="1"
                      value="1"
                      form="product-form-{{ section.id }}"
                    >
                  <button class="quantity__button no-js-hidden" name="plus" type="button">
                    <span class="visually-hidden">{{ 'products.product.quantity.increase' | t: product: product.title | escape }}</span>
                    {% render 'icon-plus' %}
                  </button>
                </quantity-input>
              </div>     
              {%- endcase -%}
            {%- endfor -%}

              <div class="product-single__add-to-cart{% if section.settings.add_to_cart_button_size == 'large' %} product-single__add-to-cart--full-width{% endif %}">
                <button 
                name="add" 
                id="AddToCart--{{ section.id }}" 
                class="AddToCart this-is-cart-btn btn button border-button btn--add-to-cart"
                {% if product.selected_or_first_available_variant.available == false %}disabled{% endif %}
                >
                {%- if product.selected_or_first_available_variant.available -%}
                Order Now
              {%- else -%}
                sold out
              {%- endif -%}
                  
                </button>
                {{ form | payment_button }}
              </div>            
            {% endform %}

          </div>

        </div>
      </div>                  
      
      <div class="sticky-prices no-mobile no-desktop">
        {% comment %}
        <p><span class="text-left lt euro">I would like a gift bag! + â‚¬1,95</span><span class="text-left lt pound display-non">I would like a gift bag! + Â£1.80</span><span class="text-right rt"><label for="yup">Yup!</label><input type="radio" id="yup" name="giftbags" value="yup"><label for="nah">nah</label><input type="radio" id="nah" name="giftbags" value="nah" checked></span></p>
        {% endcomment %}
        <label for="image"><p class="mobile-cart-submit">Upload a picture</p></label>
      </div>
    </div>
</div>
  </div>
{% unless product == empty %}
  <script type="application/json" id="ProductJson-{{ section.id }}">
    {{ product | json }}
  </script>
  <script type="application/json" id="ModelJson-{{ section.id }}">
    {{ product.media | where: 'media_type', 'model' | json }}
  </script>
{% endunless %}


