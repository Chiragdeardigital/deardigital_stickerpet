<section class="homepage-hero color-{{ section.settings.color_scheme }}">
  <div class="container">
    <h1 class="hero-title  {% if section.settings.type_text == 'left' %} left {% elsif section.settings.type_text == 'right' %} right {% else %} {% endif %}" >{{ section.settings.text_1 }}<br>
      <span>
        {%- for block in section.blocks -%}
          {%- case block.type -%}
          {%- when 'typed_text' -%}
            {% assign textArray = block.settings.typed_text | split: "," %}
          {%- endcase -%}
        {%- endfor -%}
        <span class="typewrite" 
          data-period="1000" 
          data-type="[
            {%- for text in textArray -%}
              '{{ text }}'{%- unless forloop.last -%},{%- endunless -%}
            {%- endfor -%}
            ]">
          <span class="wrap">fish</span>
        </span>
      </span>
     {{ section.settings.text_2 }}
    </h1>
    <div class="flex homepage-products">
      {% assign product_handle = section.settings.feature_collection %}
      {% for product in collections[product_handle].products limit:3%}
      <div class="hero-products">
        {% if product.images.size > 0 %}
        <img 
             srcset="{% if product.featured_image.width >= 288 %}{{ product.featured_image | img_url: '288x' }} 288w,{% endif %}
                     {% if product.featured_image.width >= 576 %}{{ product.featured_image | img_url: '576x' }} 576w,{% endif %}
                     {% if product.featured_image.width >= 550 %}{{ product.featured_image | img_url: '550x' }} 550w,{% endif %}
                     {% if product.featured_image.width >= 1100 %}{{ product.featured_image | img_url: '1100x' }} 1100w{% endif %}"
             src="{{ product.images | img_url: '1024x' }}" 
             alt="{{ product.title }}" 
             class="image-animate-x" 
             loading="lazy">
        {% else %}
        {{ 'product-1' | placeholder_svg_tag }}
        {% endif %}
        <a href="{{ product.url }}" class="button border-button">
          {{ product.title }}
        </a>
      </div>
      {%- endfor -%}

    </div>
  </div>
</section>


{% schema %}
{
    "name": "Homepage Hero Section",
    "settings": [
        {
            "type": "collection",
            "id": "feature_collection",
            "label": "Featured collection"
        },
        {
            "id": "text_1",
            "type": "text",
            "label": "Text before typed text"
        },
        {
            "id": "text_2",
            "type": "text",
            "label": "Text after typed text"
        },
        {
          "type": "select",
          "id": "type_text",
          "options": [
            {
              "value": "left",
              "label": "left"
            },
            {
              "value": "center",
              "label": "center"
            },
            {
              "value": "right",
              "label": "right"
            }
          ],
          "default": "center",
          "label": "Type Text allignment",
          "info" : "select any one to align the type text. By default it will be in center."
        },
        {
           "type": "select",
           "id": "color_scheme",
           "label": "Color Scheme",
           "default": "accent-1",
           "info" : "choose a background",
           "options": [
           {
            "label": "accent 1",
            "value": "accent-1"
            },
            {
            "label": "accent 2",
            "value": "accent-2"
            },
            {
            "label": "Background 1",
            "value": "background-1"
            },
            {
            "label": "Background 2",
            "value": "background-2"
            },
            {
            "label": "Inverse",
            "value": "inverse"
            }
         ]
       }
    ],
    "blocks": [
        {
            "type": "typed_text",
            "name": "Typed text",
			      "limit":1,
            "settings": [
                {
                    "id": "typed_text",
                    "type": "text",
                    "label": "Text",
					          "info": "Enter the words for typing effect separated with comma(,) eg. text1,text2"
                },
                {
                  "type": "select",
                  "id": "type_text_color",
                  "label": "Color",
                  "default": "text-accent-2",
                  "info" : "choose a color",
                  "options": [
                  {
                   "label": "accent 1",
                   "value": "text-accent-1"
                   },
                   {
                   "label": "accent 2",
                   "value": "text-accent-2"
                   }
                ]
              }
            ]
        }
    ],
    "presets": [
        {
            "name": "Hero Section",
            "category": "ADVANCED LAYOUT"
        }
    ]
}
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
